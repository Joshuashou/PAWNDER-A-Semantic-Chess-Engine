{"ast":null,"code":"var _jsxFileName = \"/Users/joshuashou/Desktop/Personal/Semantic_Chess_Engine/src/components/ChessBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Chessground } from 'chessground';\nimport { Chess } from 'chess.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChessBoard = () => {\n  _s();\n  const boardRef = useRef(null);\n  const chess = useRef(new Chess());\n  const [turn, setTurn] = useState('white'); // Track whose turn it is\n\n  useEffect(() => {\n    const config = {\n      fen: chess.current.fen(),\n      orientation: 'white',\n      turnColor: turn,\n      // Highlight the current player's turn\n      movable: {\n        color: turn,\n        // Only allow the current player to move\n        free: false,\n        events: {\n          after: (orig, dest) => {\n            // Attempt to make the move\n            const move = chess.current.move({\n              from: orig,\n              to: dest,\n              promotion: 'q'\n            });\n\n            // If the move is illegal, revert it\n            if (move === null) return 'snapback';\n\n            // Update the board position\n            ground.set({\n              fen: chess.current.fen()\n            });\n\n            // Switch turns\n            setTurn(chess.current.turn() === 'w' ? 'white' : 'black');\n\n            // Check for game over conditions\n            if (chess.current.isGameOver()) {\n              if (chess.current.isCheckmate()) {\n                alert(`Checkmate! ${chess.current.turn() === 'w' ? 'Black' : 'White'} wins!`);\n              } else if (chess.current.isStalemate()) {\n                alert('Stalemate! The game is a draw.');\n              } else if (chess.current.isThreefoldRepetition()) {\n                alert('Draw by threefold repetition.');\n              } else if (chess.current.isInsufficientMaterial()) {\n                alert('Draw due to insufficient material.');\n              }\n            }\n          }\n        }\n      },\n      highlight: {\n        lastMove: true,\n        // Highlight the last move\n        check: true // Highlight the king in check\n      }\n    };\n    const ground = Chessground(boardRef.current, config);\n    return () => {\n      ground.destroy();\n    };\n  }, [turn]); // Re-run effect when the turn changes\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: boardRef,\n    style: {\n      width: '400px',\n      height: '400px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 10\n  }, this);\n};\n_s(ChessBoard, \"AuC1KembizW53zpcI7VCsp4bh08=\");\n_c = ChessBoard;\nexport default ChessBoard;\nvar _c;\n$RefreshReg$(_c, \"ChessBoard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Chessground","Chess","jsxDEV","_jsxDEV","ChessBoard","_s","boardRef","chess","turn","setTurn","config","fen","current","orientation","turnColor","movable","color","free","events","after","orig","dest","move","from","to","promotion","ground","set","isGameOver","isCheckmate","alert","isStalemate","isThreefoldRepetition","isInsufficientMaterial","highlight","lastMove","check","destroy","ref","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/joshuashou/Desktop/Personal/Semantic_Chess_Engine/src/components/ChessBoard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Chessground } from 'chessground';\nimport { Chess } from 'chess.js';\n\nconst ChessBoard = () => {\n  const boardRef = useRef(null);\n  const chess = useRef(new Chess());\n  const [turn, setTurn] = useState('white'); // Track whose turn it is\n\n  useEffect(() => {\n    const config = {\n      fen: chess.current.fen(),\n      orientation: 'white',\n      turnColor: turn, // Highlight the current player's turn\n      movable: {\n        color: turn, // Only allow the current player to move\n        free: false,\n        events: {\n          after: (orig, dest) => {\n            // Attempt to make the move\n            const move = chess.current.move({ from: orig, to: dest, promotion: 'q' });\n\n            // If the move is illegal, revert it\n            if (move === null) return 'snapback';\n\n            // Update the board position\n            ground.set({ fen: chess.current.fen() });\n\n            // Switch turns\n            setTurn(chess.current.turn() === 'w' ? 'white' : 'black');\n\n            // Check for game over conditions\n            if (chess.current.isGameOver()) {\n              if (chess.current.isCheckmate()) {\n                alert(`Checkmate! ${chess.current.turn() === 'w' ? 'Black' : 'White'} wins!`);\n              } else if (chess.current.isStalemate()) {\n                alert('Stalemate! The game is a draw.');\n              } else if (chess.current.isThreefoldRepetition()) {\n                alert('Draw by threefold repetition.');\n              } else if (chess.current.isInsufficientMaterial()) {\n                alert('Draw due to insufficient material.');\n              }\n            }\n          }\n        }\n      },\n      highlight: {\n        lastMove: true, // Highlight the last move\n        check: true // Highlight the king in check\n      }\n    };\n\n    const ground = Chessground(boardRef.current, config);\n    return () => {\n      ground.destroy();\n    };\n  }, [turn]); // Re-run effect when the turn changes\n\n\n\n  return <div ref={boardRef} style={{ width: '400px', height: '400px' }}></div>;\n};\n\nexport default ChessBoard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}