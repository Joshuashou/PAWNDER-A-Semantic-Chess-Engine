{"ast":null,"code":"import{useEffect,useState}from\"react\";const StockfishEngine=_ref=>{let{onEvaluation}=_ref;const[engine,setEngine]=useState(null);useEffect(()=>{const stockfish=new Worker(\"/stockfish/stockfish-16.1.js\");stockfish.onmessage=event=>{console.log(\"Stockfish says:\",event.data);if(event.data.includes(\"score\")){onEvaluation(event.data);}};stockfish.postMessage(\"uci\");setEngine(stockfish);return()=>{stockfish.terminate();};},[onEvaluation]);const sendCommand=cmd=>{if(engine){console.log(\"Sending command to Stockfish:\",cmd);console.log(\"yo is something happening here\");engine.postMessage(cmd);}};return{sendCommand};};export default StockfishEngine;","map":{"version":3,"names":["useEffect","useState","StockfishEngine","_ref","onEvaluation","engine","setEngine","stockfish","Worker","onmessage","event","console","log","data","includes","postMessage","terminate","sendCommand","cmd"],"sources":["/Users/joshuashou/Desktop/Personal/Semantic_Chess_Engine/src/components/StockfishEngine.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst StockfishEngine = ({ onEvaluation }) => {\n    const [engine, setEngine] = useState(null);\n\n    useEffect(() => {\n        const stockfish = new Worker(\"/stockfish/stockfish-16.1.js\");\n\n        stockfish.onmessage = (event) => {\n            console.log(\"Stockfish says:\", event.data);\n            if (event.data.includes(\"score\")) {\n                onEvaluation(event.data);\n            }\n        };\n\n        stockfish.postMessage(\"uci\");\n        setEngine(stockfish);\n\n        return () => {\n            stockfish.terminate();\n        };\n    }, [onEvaluation]);\n\n    const sendCommand = (cmd) => {\n        if (engine) {\n            console.log(\"Sending command to Stockfish:\", cmd);\n            console.log(\"yo is something happening here\");\n            engine.postMessage(cmd);\n        }\n    };\n\n    return { sendCommand };\n};\n\nexport default StockfishEngine;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CACrC,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGL,QAAQ,CAAC,IAAI,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAO,SAAS,CAAG,GAAI,CAAAC,MAAM,CAAC,8BAA8B,CAAC,CAE5DD,SAAS,CAACE,SAAS,CAAIC,KAAK,EAAK,CAC7BC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEF,KAAK,CAACG,IAAI,CAAC,CAC1C,GAAIH,KAAK,CAACG,IAAI,CAACC,QAAQ,CAAC,OAAO,CAAC,CAAE,CAC9BV,YAAY,CAACM,KAAK,CAACG,IAAI,CAAC,CAC5B,CACJ,CAAC,CAEDN,SAAS,CAACQ,WAAW,CAAC,KAAK,CAAC,CAC5BT,SAAS,CAACC,SAAS,CAAC,CAEpB,MAAO,IAAM,CACTA,SAAS,CAACS,SAAS,CAAC,CAAC,CACzB,CAAC,CACL,CAAC,CAAE,CAACZ,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAa,WAAW,CAAIC,GAAG,EAAK,CACzB,GAAIb,MAAM,CAAE,CACRM,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAEM,GAAG,CAAC,CACjDP,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC7CP,MAAM,CAACU,WAAW,CAACG,GAAG,CAAC,CAC3B,CACJ,CAAC,CAED,MAAO,CAAED,WAAY,CAAC,CAC1B,CAAC,CAED,cAAe,CAAAf,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}